<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    form div {margin-bottom: 10px;}
      input#message {
        width: 400px;
      }

  </style>
</head>
<body>
  <form action="">
    <div>
      <label for="name">Name of the client</label>
      <input type="text" id="name">
    </div>
      <label for="material">Mat</label>
      <select name="" id="material">
        <option value="dm">Madera</option>
        <option value="pt">Plastico</option>
        <option value="mt">Metal</option>
      </select>
    </div>
      <div>
        <label for="dimension">Dimension box</label>
        <input type="radio" name="dimension" value="diminuta">Diminuta<br>
        <label for="dimension">Dimension box</label>
        <input type="radio" name="dimension" value="diminuta" checked>Peque√±a<br>
        <label for="dimension">Dimension box</label>
        <input type="radio" name="dimension" value="diminuta">Grande<br>
      </div>
      <div>
        <label for="comments">Comments</label>
        <textarea id="comments"></textarea>
      </div>
      <div>
        <button type="button">Send</button>
      </div>
      <div>
        <input type="text" id="message" disabled>
      </div>
  </form>
  <script>
  
    document.querySelector('button').onclick = sendRequest

    /*function eliminarEspacios(texto) {
    
    while (texto.indexOf('  ') >=0) {
    texto = texto.replace('  ', ' ')
    }
    return texto
    }
      function eliminarEspaciosConsecutivos(texto) {
      while (texto.includes("  ")) {
        texto = texto.split("  ").join(" ");
      }
      return texto.trim();
    }

      function eliminarEspaciosConsecutivos(texto) {
    return texto.split(/\s+/).join(' ').trim();
      }
    }
    */
    function trimmer(text) {
 
      console.log('hola esta es trimmer')
      let trimmed = text.trim()
      let res = '';
      let flag = false
      
     for(let i = 0; i < trimmed.length; i++)
      {
        if (trimmed[i] == ' ')
            flag = true
        if (flag === true)
        {
          res += ' ';
          while (trimmed[i] == ' ')
            i++
          flag = false
        }
        if (i < trimmed.length)
          res += trimmed[i]
      }
      console.log('this is the res \n',res)
      return(res) 
    }
    
    function sendRequest () {

  
      document.querySelector('#message').value = ''
      let name = document.querySelector("#name").value
      let material = document.querySelector('#material').value
    
      let dimension = document.querySelector('[name=dimension]:checked').value
      if (!dimension){
        window.alert('Dimension is null or undefined')
        return
      }
      console.log('entrada: \n', name)
      name = trimmer(name)
      console.log('salida: \n', name)

      let comments = document.querySelector('#comments').value.trim()

      if(name === '')
      {
        window.alert('Name is mandatory !')
        return        
      }

      
      let msg = name + ' ha pedido una caja de ' + material + ' con unas dimensiones ' + dimension + '. ' + comments

      document.querySelector('#message').value = msg
    }
    
  </script>
  
</body>
</html>